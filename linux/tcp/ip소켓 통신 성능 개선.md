tcp/ip 소켓 통신 기법

1. accept() 대기 후 쓰레드 생성
- 요청 마다 쓰레드 생성
- 한계 사항 처리 구조 없음 -> 장애 위험

2. 쓰레드 풀
- 대부분의 웹어플리케이션
- 모든 쓰레드들은 wait() 상테
- client socket 을 큐잉 하고 notify()
- 쓰레드를 더 생성하지 않아 부하 X
- 초기 가동할 쓰레드 수 변수
- 퍼퍼먼스 튜닝 방법론에 따라 적정값 세팅

3. 커넥션 풀
- 미리 소켓 오픈
- 사용후 소켓을 닫지 않고 반납
- 네트워크 이슈가 있으면 어떻께 대체할지

4. 쓰레드 풀 + 커넥션 풀  + 송수신 소켓 분리
- 소켓에서 전송후 데이터를 받을 때까지 대기함
- 전송 수신 소켓 분리
- 수신 큐에 데이터를 저장하고 다음 데이터 대기
- 다른 쓰레드에서 데이터 꺼내서 로직 처리 후 송신 큐에 큐잉
- 송신 쓰레드들은 송신 큐에서 디큐잉후 전송
- 어떤 쓰레드를 깨울지?
- 서로 다른 데이터들이 영향을 미칠수 있다


에러/ 타임 아웃/ 모든 데이털를 수신할때까지 대기!
헤더 바디로 구분된 프로토콜ㄴ

