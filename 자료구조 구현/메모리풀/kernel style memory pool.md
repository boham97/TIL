1. Buddy Allocator (버디 할당자)
Linux 커널에서 가장 대표적으로 사용하는 메모리 풀 구조입니다.

개요
메모리를 2의 거듭제곱 크기로 분할합니다.

할당 시, 가장 작은 충분한 블록을 찾고, 필요하면 큰 블록을 반으로 나눕니다.

반납 시, 인접한 “버디 블록”이 free 상태라면 다시 병합합니다.

장점
빠른 할당/반환

단편화 최소화 (버디 병합 덕분)

예시
전체 메모리 풀 크기: 1024 bytes
최소 할당 단위: 32 bytes
할당 요청: 80 bytes
→ 128 byte 블록을 할당 (가장 가까운 2의 제곱)
→ 이후 반납 시, 인접 블록이 free면 병합하여 256, 512... 등으로 키움
하나의 2의 제곱 크기 블록"만을 할당

2. Slab Allocator (슬랩 할당자)
Linux 커널의 객체 풀 기반 메모리 풀입니다. kmem_cache로 구현되어 있으며, 주로 커널 구조체들(ex: task_struct, inode)을 빠르게 할당/반납하기 위해 사용됩니다.

구성
Slab: 동일한 크기의 객체를 여러 개 가진 메모리 덩어리

Cache: 특정 타입 객체를 위한 Slab들의 집합

Slab은 상태에 따라 "full", "partial", "empty"로 구분됨

장점
오브젝트 재사용 → 캐시 친화적

초기화/파괴 비용 절감 (커널은 constructor/destructor 함수도 등록 가능)

내부적으로 buddy allocator를 이용해 slab을 할당받음

오브젝트를 만들고 스택처럼 구조체를 쌓아두고 할당하면 빼고 해제하면 스택에 put 하는 형식 
두